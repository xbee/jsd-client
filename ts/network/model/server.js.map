{"version":3,"file":"server.js","sourceRoot":"","sources":["server.ts"],"names":["Server","Server.constructor","Server.connect","Server.disconnect","Server.send","Server.send.responseHandler","Server.sendAuthentication","Server.sendPeerOffer","Server.sendPeerAnswer","Server.sendPeerCandidate","Server.getAllRelatedPeers","Server.messageHandler","Server.serialize"],"mappings":"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"}