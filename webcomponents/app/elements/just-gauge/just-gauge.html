<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="just-gauge-import.html">


<polymer-element name="just-gauge" attributes="width, height, value">
  <template>
    <link rel="stylesheet" href="just-gauge.css">
    <div id="container" style="width:{{ width }}px; height:{{ height }}px"></div>
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        publish: {
          width: 100,
          height: 80,
          value: 75
        },

        // define element prototype here
        ready: function() {
          this.gage = this.createGage(this.$.container, "Percent");

          this.setGageValue(this.value);
        },

        valueChanged: function(oldVal, newVal) {
          this.setGageValue(newVal);
        },

        setGageValue: function(val) {
          this.gage.refresh(val);
        },

        createGage: function (el, title) {

          return new JustGage({
            parentNode: el,
            label: "%",
            value: 0,
            min: 0,
            max: 100,
            title: title,
            valueFontColor: "white",
            titleFontColor: "white",
            labelFontColor: "white",
            levelColors: ["#dd5a46", "#ffcc00", "#2ecc71"]
          });
        }
      });

    })();
  </script>
</polymer-element>
